CREATE DATABASE llrn;
USE llrn;

CREATE TABLE USUARIO(
CPF CHAR(11) PRIMARY KEY,
NOME VARCHAR(40) NOT NULL,
TELEFONE CHAR(11) NULL,
EMAIL VARCHAR(50) NOT NULL,
SENHA VARCHAR(15) NOT NULL,
TIPO VARCHAR(5) NOT NULL,
DATANASC DATE);

CREATE TABLE TREINAMENTOS(
COD_TREINAMENTO CHAR(4) PRIMARY KEY,
NOME_TREINAMENTO VARCHAR(30) NOT NULL,
DESC_TREINAMENTO VARCHAR(150) NULL);

CREATE TABLE CURSO(
COD_CURSO CHAR(4) PRIMARY KEY,
NOME_CURSO VARCHAR(40) NOT NULL,
DESC_CURSO VARCHAR(150) NULL);

CREATE TABLE VIDEO( 
COD_VIDEO CHAR(4) PRIMARY KEY, 
COD_CURSO CHAR(4) NOT NULL, 
TITULO_VIDEO VARCHAR(40) NOT NULL, 
DESC_VIDEO VARCHAR(150) NULL, 
LINK VARCHAR(255) NOT NULL, 
FOREIGN KEY (COD_CURSO) REFERENCES CURSO(COD_CURSO));

CREATE TABLE COMENTARIOS(
COD_COMENTARIO CHAR(4) PRIMARY KEY,
CPF_USUARIO CHAR(11) NOT NULL,
COD_VIDEO CHAR(4) NOT NULL,
COMENTARIO VARCHAR(300) NOT NULL,
FOREIGN KEY (CPF_USUARIO) REFERENCES USUARIO(CPF),
FOREIGN KEY (COD_VIDEO) REFERENCES VIDEO(COD_VIDEO));

CREATE TABLE USUARIOS_TREINAMENTOS(
CPF_USUARIO CHAR(11),
COD_TREINAMENTO CHAR(4),
PRIMARY KEY(CPF_USUARIO, COD_TREINAMENTO),
FOREIGN KEY (CPF_USUARIO) REFERENCES USUARIO(CPF),
FOREIGN KEY (COD_TREINAMENTO) REFERENCES TREINAMENTOS(COD_TREINAMENTO));

CREATE TABLE TREINAMENTOS_CURSOS(
COD_TREINAMENTO CHAR(4),
COD_CURSO CHAR(4),
PRIMARY KEY (COD_TREINAMENTO, COD_CURSO),
FOREIGN KEY (COD_TREINAMENTO) REFERENCES TREINAMENTOS(COD_TREINAMENTO),
FOREIGN KEY (COD_CURSO) REFERENCES CURSO(COD_CURSO));

INSERT INTO usuario (CPF, NOME, EMAIL, SENHA, TIPO)
VALUES ('00000000001', 'Administrador', 'admin@email.com', 'password', 'admin');

INSERT INTO curso
VALUES 
('0001', 'Desenvolvimento web básico', 'Neste curso você vai aprender tudo aquilo que é necessário para iniciar no desenvolvimento web, mesmo sem nenhum conhecimento prévio na área.'),
('0002', 'Curso completo NodeJS', 'Neste curso você vai aprender a criar aplicações utilizando o NodeJS na prática.'),
('0003', 'Curso React Native', 'Neste curso você vai aprender a criar aplicações mobile tanto para Android quanto IOS através utilizando o React Native.'),
('0004', 'Curso Laravel', 'Neste você vai aprender todos os fundamentos do Laravel, além de construir um projeto prático utilizando esse framework.'),
('0005', 'Curso CSS avançado', 'Neste curso você aprenderá técnicas avançadas do CS');
